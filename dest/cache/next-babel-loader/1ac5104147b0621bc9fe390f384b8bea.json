{"ast":null,"code":"import _regeneratorRuntime from \"@babel/runtime-corejs2/regenerator\";\nimport React from \"react\";\nvar __jsx = React.createElement;\nimport Link from 'next/link';\nimport Router from 'next/router';\nimport axios from 'axios';\nimport store from '../store/store';\nimport { connect } from 'react-redux';\nimport { getGoldList } from '../store/index';\n\nvar Index = function Index(_ref) {\n  var count = _ref.count,\n      add = _ref.add,\n      goldList = _ref.goldList;\n  return __jsx(React.Fragment, null, __jsx(\"span\", null, \"\\u9996\\u9875 state\\u7684count\\u662F\", count), __jsx(\"button\", {\n    onClick: add\n  }, \"\\u589E\\u52A0\"));\n};\n\nIndex.getInitialProps = function _callee(_ref2) {\n  var reduxStore;\n  return _regeneratorRuntime.async(function _callee$(_context) {\n    while (1) {\n      switch (_context.prev = _context.next) {\n        case 0:\n          reduxStore = _ref2.reduxStore;\n          console.log('state==>', reduxStore.getState());\n\n          if (!reduxStore.getState().count) {\n            reduxStore.dispatch({\n              type: 'add'\n            });\n          }\n\n          reduxStore.dispatch(getGoldList());\n          return _context.abrupt(\"return\", {});\n\n        case 5:\n        case \"end\":\n          return _context.stop();\n      }\n    }\n  });\n};\n\nexport default connect(function (state) {\n  return {\n    goldList: state.index.goldList\n  };\n}, {\n  getGoldList: getGoldList\n})(Index);","map":{"version":3,"sources":["/Users/honney/Projects/MINE/juejin/pages/index.js"],"names":["Link","Router","axios","store","connect","getGoldList","Index","count","add","goldList","getInitialProps","reduxStore","console","log","getState","dispatch","type","state","index"],"mappings":";;;AAAA,OAAOA,IAAP,MAAiB,WAAjB;AACA,OAAOC,MAAP,MAAmB,aAAnB;AAEA,OAAOC,KAAP,MAAkB,OAAlB;AACA,OAAOC,KAAP,MAAkB,gBAAlB;AACA,SAASC,OAAT,QAAwB,aAAxB;AACA,SAAQC,WAAR,QAA0B,gBAA1B;;AAIA,IAAMC,KAAK,GAAG,SAARA,KAAQ,OAA6B;AAAA,MAA1BC,KAA0B,QAA1BA,KAA0B;AAAA,MAAnBC,GAAmB,QAAnBA,GAAmB;AAAA,MAAdC,QAAc,QAAdA,QAAc;AACzC,SACE,4BACE,2DAAsBF,KAAtB,CADF,EAEE;AAAQ,IAAA,OAAO,EAAEC;AAAjB,oBAFF,CADF;AAMD,CAPD;;AASAF,KAAK,CAACI,eAAN,GAAwB;AAAA;AAAA;AAAA;AAAA;AAAA;AAASC,UAAAA,UAAT,SAASA,UAAT;AACtBC,UAAAA,OAAO,CAACC,GAAR,CAAY,UAAZ,EAAuBF,UAAU,CAACG,QAAX,EAAvB;;AACA,cAAI,CAACH,UAAU,CAACG,QAAX,GAAsBP,KAA3B,EAAkC;AAChCI,YAAAA,UAAU,CAACI,QAAX,CAAoB;AAAEC,cAAAA,IAAI,EAAE;AAAR,aAApB;AACD;;AACDL,UAAAA,UAAU,CAACI,QAAX,CAAoBV,WAAW,EAA/B;AALsB,2CAMf,EANe;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,CAAxB;;AASA,eAAeD,OAAO,CACpB,UAAAa,KAAK;AAAA,SAAK;AAACR,IAAAA,QAAQ,EAAEQ,KAAK,CAACC,KAAN,CAAYT;AAAvB,GAAL;AAAA,CADe,EAEpB;AAACJ,EAAAA,WAAW,EAAXA;AAAD,CAFoB,CAAP,CAGbC,KAHa,CAAf","sourcesContent":["import Link from 'next/link'\nimport Router from 'next/router'\nimport { Button } from 'antd'\nimport axios from 'axios'\nimport store from '../store/store'\nimport { connect } from 'react-redux'\nimport {getGoldList} from '../store/index'\n\n\n\nconst Index = ({ count, add ,goldList}) => {\n  return (\n    <>\n      <span>首页 state的count是{count}</span>\n      <button onClick={add}>增加</button>\n    </>\n  )\n}\n\nIndex.getInitialProps = async ({ reduxStore }) => {\n  console.log('state==>',reduxStore.getState())\n  if (!reduxStore.getState().count) {\n    reduxStore.dispatch({ type: 'add' })\n  }\n  reduxStore.dispatch(getGoldList())\n  return {}\n}\n\nexport default connect(\n  state => ({goldList: state.index.goldList}),\n  {getGoldList}\n)(Index)"]},"metadata":{},"sourceType":"module"}