{"ast":null,"code":"import _Object$defineProperty from \"@babel/runtime-corejs2/core-js/object/define-property\";\nimport _Object$defineProperties from \"@babel/runtime-corejs2/core-js/object/define-properties\";\nimport _Object$getOwnPropertyDescriptors from \"@babel/runtime-corejs2/core-js/object/get-own-property-descriptors\";\nimport _Object$getOwnPropertyDescriptor from \"@babel/runtime-corejs2/core-js/object/get-own-property-descriptor\";\nimport _Object$getOwnPropertySymbols from \"@babel/runtime-corejs2/core-js/object/get-own-property-symbols\";\nimport _Object$keys from \"@babel/runtime-corejs2/core-js/object/keys\";\nimport _defineProperty from \"@babel/runtime-corejs2/helpers/esm/defineProperty\";\n\nfunction ownKeys(object, enumerableOnly) { var keys = _Object$keys(object); if (_Object$getOwnPropertySymbols) { var symbols = _Object$getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return _Object$getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (_Object$getOwnPropertyDescriptors) { _Object$defineProperties(target, _Object$getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { _Object$defineProperty(target, key, _Object$getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\n// import fetch from 'isomorphic-unfetch';\nimport axios from 'axios'; // import fetch from 'node-fetch';\n// actionType\n\nvar GET_LIST = 'INDEX/GOLD'; // actionCreator\n\nvar updatedGoldList = function updatedGoldList(data) {\n  return {\n    type: GET_LIST,\n    data: data\n  };\n};\n\nexport var getGoldList = function getGoldList(server) {\n  // https://extension-ms.juejin.im/resources/gold\n  var postData = {\n    category: \"frontend\",\n    order: \"heat\",\n    offset: 0,\n    limit: 30\n  };\n  return function (dispatch, getState, $axios) {\n    // https://api.tvmaze.com/search/shows?q=batman\n    return axios.post('/api/resources/gold', postData).then(function (res) {\n      console.log('res=>', res);\n      var goldList = res.data.data;\n      console.log(\"Show data fetched. Count: \".concat(goldList.length));\n      dispatch(updatedGoldList(goldList));\n    });\n  };\n};\nvar defaultState = {\n  goldList: []\n};\nexport default (function () {\n  var state = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : defaultState;\n  var action = arguments.length > 1 ? arguments[1] : undefined;\n\n  switch (action.type) {\n    case GET_LIST:\n      console.log('action==>', action, state);\n\n      var newState = _objectSpread({}, state, {\n        goldList: action.data\n      });\n\n      return newState;\n\n    default:\n      return state;\n  }\n});","map":{"version":3,"sources":["/Users/honney/Projects/MINE/juejin/store/index.js"],"names":["axios","GET_LIST","updatedGoldList","data","type","getGoldList","server","postData","category","order","offset","limit","dispatch","getState","$axios","post","then","res","console","log","goldList","length","defaultState","state","action","newState"],"mappings":";;;;;;;;;;;;AAAA;AACA,OAAOA,KAAP,MAAkB,OAAlB,C,CACA;AAEA;;AACA,IAAMC,QAAQ,GAAG,YAAjB,C,CAIA;;AACA,IAAMC,eAAe,GAAG,SAAlBA,eAAkB,CAAAC,IAAI;AAAA,SAAK;AAC7BC,IAAAA,IAAI,EAAEH,QADuB;AAE7BE,IAAAA,IAAI,EAAJA;AAF6B,GAAL;AAAA,CAA5B;;AAMA,OAAO,IAAME,WAAW,GAAG,SAAdA,WAAc,CAAAC,MAAM,EAAI;AAAE;AACnC,MAAIC,QAAQ,GAAG;AACXC,IAAAA,QAAQ,EAAE,UADC;AAEXC,IAAAA,KAAK,EAAE,MAFI;AAGXC,IAAAA,MAAM,EAAE,CAHG;AAIXC,IAAAA,KAAK,EAAE;AAJI,GAAf;AAMA,SAAO,UAACC,QAAD,EAAWC,QAAX,EAAqBC,MAArB,EAAgC;AAAE;AACrC,WAAOd,KAAK,CAACe,IAAN,CAAW,qBAAX,EAAkCR,QAAlC,EACNS,IADM,CACD,UAAAC,GAAG,EAAI;AACTC,MAAAA,OAAO,CAACC,GAAR,CAAY,OAAZ,EAAoBF,GAApB;AACA,UAAMG,QAAQ,GAAGH,GAAG,CAACd,IAAJ,CAASA,IAA1B;AACAe,MAAAA,OAAO,CAACC,GAAR,qCAAyCC,QAAQ,CAACC,MAAlD;AACAT,MAAAA,QAAQ,CAACV,eAAe,CAACkB,QAAD,CAAhB,CAAR;AACH,KANM,CAAP;AAOH,GARD;AASH,CAhBM;AAmBP,IAAME,YAAY,GAAG;AACjBF,EAAAA,QAAQ,EAAE;AADO,CAArB;AAGA,gBAAe,YAAkC;AAAA,MAAjCG,KAAiC,uEAAzBD,YAAyB;AAAA,MAAXE,MAAW;;AAC7C,UAAOA,MAAM,CAACpB,IAAd;AACI,SAAKH,QAAL;AACIiB,MAAAA,OAAO,CAACC,GAAR,CAAY,WAAZ,EAAwBK,MAAxB,EAAgCD,KAAhC;;AACA,UAAME,QAAQ,qBACPF,KADO;AAEVH,QAAAA,QAAQ,EAAEI,MAAM,CAACrB;AAFP,QAAd;;AAIA,aAAOsB,QAAP;;AACJ;AACI,aAAOF,KAAP;AATR;AAWH,CAZD","sourcesContent":["// import fetch from 'isomorphic-unfetch';\nimport axios from 'axios'\n// import fetch from 'node-fetch';\n\n// actionType\nconst GET_LIST = 'INDEX/GOLD';\n\n\n\n// actionCreator\nconst updatedGoldList = data => ({\n    type: GET_LIST,\n    data\n})\n\n\nexport const getGoldList = server => { // https://extension-ms.juejin.im/resources/gold\n    let postData = {\n        category: \"frontend\",\n        order: \"heat\",\n        offset: 0,\n        limit: 30\n    }\n    return (dispatch, getState, $axios) => { // https://api.tvmaze.com/search/shows?q=batman\n        return axios.post('/api/resources/gold', postData)\n        .then(res => {\n            console.log('res=>',res)\n            const goldList = res.data.data;\n            console.log(`Show data fetched. Count: ${goldList.length}`);\n            dispatch(updatedGoldList(goldList))\n        })\n    }\n}\n\n\nconst defaultState = {\n    goldList: [],\n}\nexport default (state = defaultState, action) => {\n    switch(action.type){\n        case GET_LIST:\n            console.log('action==>',action, state)\n            const newState = {\n                ...state,\n                goldList: action.data\n            }\n            return newState\n        default:\n            return state\n    }\n}"]},"metadata":{},"sourceType":"module"}